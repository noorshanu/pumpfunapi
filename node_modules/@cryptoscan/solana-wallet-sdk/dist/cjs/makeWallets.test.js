"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const bun_test_1 = require("bun:test");
const makeWallets_1 = require("./makeWallets");
const fs_1 = require("fs");
(0, bun_test_1.describe)('makeWallets', () => {
    (0, bun_test_1.test)('makeWallets', () => {
        const wallets = (0, makeWallets_1.makeWallets)('./var/test_wallets.txt', 10);
        console.log(wallets.map((w) => w.publicKey.toString()));
        const fileContent = (0, fs_1.readFileSync)('./var/test_wallets.txt').toString();
        const date = new Date();
        const savedFileContent = (0, fs_1.readFileSync)(`./var/saved_wallets/${date}.txt`).toString();
        const content = wallets.map((w) => w.secretKey.toString()).join('\n');
        (0, bun_test_1.expect)(wallets.length).toBe(10);
        (0, bun_test_1.expect)(fileContent).toBe(content);
        (0, bun_test_1.expect)((0, fs_1.existsSync)(`./var/saved_wallets/${date}.txt`)).toBe(true);
        (0, bun_test_1.expect)(savedFileContent).toBe(content);
    });
    (0, fs_1.rmSync)('./var/test_wallets.txt');
});
