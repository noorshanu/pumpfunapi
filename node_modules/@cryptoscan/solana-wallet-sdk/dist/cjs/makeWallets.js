"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeWallets = void 0;
const createWallet_js_1 = require("./createWallet.js");
const fs_1 = require("fs");
const bs58_1 = require("bs58");
const WALLETS_PATH = process.env.WALLETS_PATH || './var/saved_wallets';
const makeWallets = (path, count) => {
    if (!(0, fs_1.existsSync)(WALLETS_PATH)) {
        (0, fs_1.mkdirSync)(WALLETS_PATH);
    }
    const wallets = [];
    for (let i = 0; i < count; i++) {
        wallets.push((0, createWallet_js_1.createWallet)());
    }
    (0, fs_1.writeFileSync)(path, wallets.map((w) => bs58_1.default.encode(w.secretKey)).join('\n'));
    (0, fs_1.writeFileSync)(`${WALLETS_PATH}/${new Date()}.txt`, wallets.map((w) => bs58_1.default.encode(w.secretKey)).join('\n'));
    return wallets;
};
exports.makeWallets = makeWallets;
