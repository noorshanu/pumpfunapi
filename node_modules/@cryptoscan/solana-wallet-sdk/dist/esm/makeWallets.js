import { createWallet } from "./createWallet.js";
import { existsSync, mkdirSync, writeFileSync } from "fs";
import bs58 from "bs58";
const WALLETS_PATH = process.env.WALLETS_PATH || './var/saved_wallets';
export const makeWallets = (path, count) => {
    if (!existsSync(WALLETS_PATH)) {
        mkdirSync(WALLETS_PATH);
    }
    const wallets = [];
    for (let i = 0; i < count; i++) {
        wallets.push(createWallet());
    }
    writeFileSync(path, wallets.map((w) => bs58.encode(w.secretKey)).join('\n'));
    writeFileSync(`${WALLETS_PATH}/${new Date()}.txt`, wallets.map((w) => bs58.encode(w.secretKey)).join('\n'));
    return wallets;
};
