"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const solana_wallet_sdk_1 = require("@cryptoscan/solana-wallet-sdk");
const vitest_1 = require("vitest");
const PumpApi_js_1 = require("../PumpApi.js");
const web3_js_1 = require("@solana/web3.js");
(0, vitest_1.describe)('Test sell', () => {
    (0, vitest_1.test)('Should sell', async () => {
        const api = new PumpApi_js_1.PumpApi({
            connection: new web3_js_1.Connection(process.env.CONNECTION_URL),
        });
        const coinAddress = process.env.COIN_ADDRESS;
        const wallet = (0, solana_wallet_sdk_1.getWallet)(process.env.TEST_SECRET_KEY);
        const tx = await api.sell({
            wallet,
            coinAddress,
            sol: 0.01 * 0.98,
            fee: 0.0001,
        });
        console.log('TX:', tx);
        (0, vitest_1.expect)(typeof tx === 'string').toBe(true);
        (0, vitest_1.expect)(!!tx).toBe(true);
    }, 60_000);
});
